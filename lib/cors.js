// Generated by CoffeeScript 1.9.2
(function() {
  var CORS, corsMiddleware;

  corsMiddleware = require('restify-cors-middleware');

  CORS = (function() {
    CORS.deps = {
      services: ['config', 'server']
    };

    function CORS(kit) {
      this.cors = corsMiddleware(kit.services.config.restify.CORS);
    }

    CORS.prototype.server_init = function(kit) {
      var server;
      server = kit.services.server.server;
      server.pre(this.cors.preflight);
      return server.use(this.cors.actual);
    };

    return CORS;

  })();

  exports.CORS = CORS;

}).call(this);
